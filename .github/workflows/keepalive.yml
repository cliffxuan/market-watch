name: Keep Streamlit App Warm

on:
  schedule:
    # Run at the top of every hour (UTC)
    - cron: '0 * * * *'
  workflow_dispatch:

jobs:
  ping:
    runs-on: ubuntu-latest
    steps:
      - name: Ping Streamlit app
        run: |
          curl -fsS --max-time 15 \
            --retry 3 --retry-delay 5 --retry-connrefused \
            -H 'User-Agent: GitHubActions-keepalive' \
            -o /dev/null https://market-watch.streamlit.app/
