<IfModule mod_ssl.c>
<VirtualHost *:443>
	ServerName prefect.nuoya.co.uk
	ServerAdmin webmaster@localhost

	ErrorLog ${APACHE_LOG_DIR}/prefect-error.log
	CustomLog ${APACHE_LOG_DIR}/prefect-access.log combined

	SSLCertificateFile /etc/letsencrypt/live/prefect.nuoya.co.uk/fullchain.pem
	SSLCertificateKeyFile /etc/letsencrypt/live/prefect.nuoya.co.uk/privkey.pem
	Include /etc/letsencrypt/options-ssl-apache.conf

    <Location />
      AuthType Basic
      AuthName "Restricted Access"
      AuthUserFile /etc/apache2/.htpasswd
      Require valid-user
      ProxyPass http://localhost:4200/
      ProxyPassReverse http://localhost:4200/
    </Location>

</VirtualHost>
</IfModule>
